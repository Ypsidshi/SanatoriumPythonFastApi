Описание функций (автоматизируемых бизнес-процессов) приложения АРМ Администратора

№ п/п	Наименование	Описание	Документы (данные)	Ограничения
1	Создание карточки пансионата
	Администратор вводит данные о санатории (название, описание, тип отдыха, услуги, фото, тех. характеристики). Система создает запись в базе данных в рамках одной транзакции, включая связанные услуги и инфраструктуру.
	Входные: Название санатория, описание, тип отдыха, лечебный профиль, перечень услуг, фото, технические характеристики (количество номеров, этажность, год постройки).
Выходные: Карточка жилья (электронный формат), запись в базе данных.
	Обязательное заполнение ключевых полей. Проверка уникальности названия. Транзакция откатывается при ошибке.

2	Модификация информации о пансионате
	Администратор выбирает существующий пансионат по ID, обновляет данные (например, услуги, инфраструктуру). Система обновляет запись в базе данных.
	Входные: ID пансионата, обновленные данные (услуги, фото, тех. характеристики).
Выходные: Обновленная карточка жилья.
	Только для пансионатов, принадлежащих администратору. Изменение тех. характеристик требует верификации.

3	Удаление пансионата
	Администратор выбирает пансионат по ID и инициирует удаление. Система выполняет виртуальное удаление (пометка записи как неактивной) для пансионата и связанных данных.
	Входные: ID пансионата.
Выходные: Пометка записи как удаленной в базе данных.
	Удаление возможно только при отсутствии активных договоров. Требуется подтверждение.

4		Анализ доступности услуг
	Администратор запрашивает отчет по доступности услуг в пансионатах (количество номеров, загрузка услуг). Система выполняет сложный запрос с агрегацией данных по типам услуг и периодам.
	Входные: Фильтры по типам услуг, период.
Выходные: Отчет с агрегированными данными (процент доступности, количество услуг).
	Доступ только к пансионатам администратора.

5	Анализ характеристик пансионатов
	Администратор получает статистику по тех. характеристикам (количество номеров по году постройки, количество номеров по типам). Система агрегирует данные для сравнения.
	Входные: Фильтры по типам отдыха.
Выходные: Отчет с средними значениями, распределением.
	Данные за все пансионаты администратора.

6	Автоматическое увеличение цены всех услуг объекта при добавлении новой услуги
	Триггер БД автоматически обновляет цену всех существующих услуг пансионата. Исключает новую услугу. Обеспечивает динамический рост цен при расширении ассортимента.
	Входные: ID пансионата.
Выходные: Обновлённые цены в таблице uslugi.

	Только на добавление в uslugi. 


7	Автоматическое снижение цены всех услуг на 20% при добавлении объекта с профилем "сердце"
	Триггер БД проверяет лечебный профиль на 'сердце'. Если да — автоматически обновляет стоимость всех услуг нового пансионата. Скидка за специализацию.

	Входные: ID пансионата, значение поля “лечебный профиль”.
Выходные: Обновлённые цены в uslugi.

	Только на добавление. Условие: лечебный профиль = 'сердце'.  В противном случае – цены остаются прежними.



Таблица 4.2 – Описание функций (автоматизируемых бизнес-процессов) приложения АРМ Менеджера
№ п/п	Наименование	Описание	Документы (данные)	Ограничения
1	Создание договора на проживание		Менеджер вводит данные клиента (ФИО, паспорт, контакты), выбирает санаторий, даты заезда/выезда, тип номера и стоимость. Система проверяет доступность и создает договор в базе данных в рамках одной транзакции, включая запись о проживающем
	Входные: ФИО клиента, паспортные данные, контактная информация, выбранный санаторий, даты заезда/выезда, тип номера, стоимость.
Выходные: Договор на проживание (PDF или электронный формат), запись в базе данных о договоре и проживающем.
	Обязательное заполнение всех полей. Проверка доступности санатория. Транзакция откатывается при ошибке.

2	Модификация данных проживающего
	Менеджер выбирает существующего клиента по ID, обновляет данные (например, контакты, даты проживания). Система обновляет связанные записи в базе данных (договор и профиль проживающего).
	Входные: ID проживающего, обновленные данные (контакты, даты, тип номера).
Выходные: Обновленный договор на проживание, обновленная запись в базе данных.
	Только для активных договоров. Изменение паспортных данных требует дополнительной верификации.

3	Удаление договора проживающего
	Менеджер выбирает договор по ID и инициирует удаление. Система выполняет виртуальное удаление (пометка записи как неактивной) для профиля и связанных проживающих.
	Входные: ID договора.
Выходные: Пометка договора как удаленного в базе данных.
	Удаление возможно только после завершения проживания. Требуется подтверждение менеджера.

4	Анализ загрузки клиентов
	Менеджер запрашивает отчет по загрузке клиентов в санаториях (количество проживающих, типы номеров, периоды). Система выполняет сложный запрос с агрегацией данных по датам и санаториям.
	Входные: Период анализа, фильтры по санаториям.
Выходные: Отчет с агрегированными данными (количество клиентов, процент загрузки).
	Доступ только к данным текущего месяца. Не более 1000 записей в отчете.

5		Анализ доходов от договоров
	Менеджер получает статистику по доходам (суммы по договорам, типам услуг). Система агрегирует данные из договоров для анализа тенденций.
	Входные: Период, фильтры по типам номеров.
Выходные: Отчет с суммами доходов, средними значениями.
	Данные за период не более 12 месяцев.

6	Автоматический расчет скидки за раннее бронирование	Система рассчитывает и применяет скидку к стоимости договора, если он оформляется за N или более дней до даты заезда.	Входные: ID договора, дата заезда, базовая стоимость договора.
Выходные: Обновленная стоимость договора с учетом скидки, запись о примененной скидке в базе данных.	Выполняется при создании нового договора. Скидка не применяется для действующих или завершенных договоров.
7	Автоматическое закрытие выполненных договоров	Система автоматически меняет статус договора на «Завершен» после наступления даты выезда. Это переводит договор в архив и исключает его из текущих операций, но сохраняет все данные для отчетности и истории.	Входные: Данные договора (ID, дата выезда, текущий статус).
Выходные: Обновленный статус договора в базе данных.	Выполняется автоматически по расписанию (раз в сутки). Не применяется к договорам со статусами «Аннулирован» или «Удален».
